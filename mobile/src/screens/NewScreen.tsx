import {useState} from "react";import colors from "tailwindcss/colors";import {Feather} from "@expo/vector-icons";import {Alert, ScrollView, Text, TextInput, TouchableOpacity, View} from "react-native";import {Checkbox} from "../components/Checkbox";import {BackButton} from "../components/BackButton";import {api} from "../lib/axios";const availableWeekDays = [    "Sunday",    "Monday",    "Tuesday",    "Wednesday",    "Thursday",    "Friday",    "Saturday",];export function NewScreen() {    const [title, setTitle] = useState('')    const [weekDays, setWeekDays] = useState<number[]>([])    function handleToggleWeekDay(weekDayIndex: number) {        if(weekDays.includes(weekDayIndex)) {            setWeekDays((prevState) =>                prevState.filter((weekDay) => weekDay !== weekDayIndex))        } else {            setWeekDays((prevState) => [...prevState, weekDayIndex])        }    }    async function handleCreateNewHabit() {        try {         if(!title.trim() || weekDays.length === 0) {             return Alert.alert('New Habit', 'Please enter the name of the habit and choose the recurrence.')         }         await api.post('habits', {             title,             weekDays,         })        setTitle('')        setWeekDays([])            Alert.alert('New Habit', 'Habit created successfully!')        } catch (error) {            Alert.alert('Ops', 'Unable to create a new habit!')            console.log(error)        }    }    return (        <View className="flex-1 bg-background px-8 pt-16">            <ScrollView                showsVerticalScrollIndicator={false}                contentContainerStyle={{paddingBottom: 100}}            >                <BackButton />                <Text className="mt-6 text-white font-extrabold text-3xl">                    Create habit                </Text>                <Text className="mt-6 text-white fon-semibold text-base">                    What is your commitment?                </Text>                <TextInput                    className="h-12 pl-4 rounded-lg mt-3 bg-zinc-900 text-white border-2 border-zinc-800 focus:border-green-600"                    placeholder="e.g. Study, sleep well, etc ..."                    placeholderTextColor={colors.zinc[400]}                    onChangeText={setTitle}                    value={title}                />                <Text className="mt-4 mb-3 text-white font-semibold text-base">                    What is the recurrence?                </Text>                {availableWeekDays.map((weekDay, index) => (                    <Checkbox                        key={weekDay}                        title={weekDay}                        checked={weekDays.includes(index)}                        onPress={() => handleToggleWeekDay(index)}                    />                ))}                <TouchableOpacity                    activeOpacity={0.7}                    className="w-full h-14 flex-row items-center justify-center bg-green-600 rounded-md mt-6"                    onPress={() => handleCreateNewHabit()}                >                    <Feather name="check" size={20} color={colors.white} />                    <Text className="font-semibold text-base text-white ml-2">                        Confirm                    </Text>                </TouchableOpacity>            </ScrollView>        </View>    )}